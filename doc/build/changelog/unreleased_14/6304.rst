.. change::
    :tags: bug, regression, orm, performance, sql
    :tickets: 6304

    Fixed a critical performance issue where the traversal of a
    :func:`_sql.select` construct would traverse a repetitive product of the
    represented FROM clauses as they were each referred towards by columns in
    the columns clause; for a series of nested subqueries with lots of columns
    this could cause a large delay and significant memory growth. This
    traversal is used by a wide variety of SQL and ORM functions, including by
    the ORM :class:`_orm.Session` when it's configured to have
    "table-per-bind", which while this is not a common use case, it seems to be
    what Flask-SQLAlchemy is hardcoded as using, so the issue impacts
    Flask-SQLAlchemy users. The traversal has been repaired to uniqify on FROM
    clauses which was effectively what would happen implicitly with the pre-1.4
    architecture.
